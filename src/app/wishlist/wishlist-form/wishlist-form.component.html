<form [formGroup]="form() || undefined" (ngSubmit)="editingIndex() === null ? add.emit() : update.emit()" autocomplete="off" class="flex flex-col gap-2 mb-8">
  <div class="flex flex-col md:flex-row gap-2">
    <input type="text" formControlName="title" [placeholder]="'title' | translate" required class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition" />
    <select formControlName="status" class="w-48 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
      <option value="todo">{{ 'todo' | translate }}</option>
      <option value="in progress">{{ 'inProgress' | translate }}</option>
      <option value="done">{{ 'done' | translate }}</option>
    </select>
  </div>
  <div>
    <textarea formControlName="description" [placeholder]="'description' | translate" required rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition"></textarea>
  </div>
  <div class="flex justify-end gap-2">
    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">{{ editingIndex() === null ? ('add' | translate) : ('update' | translate) }}</button>
    @if (editingIndex() !== null) {
      <button type="button" (click)="cancel.emit()" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition">{{ 'cancel' | translate }}</button>
    }
  </div>
</form>
